<!DOCTYPE html><html lang="ko-KR" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="[알고리즘 파이썬] 코드트리: 싸움땅" /><meta name="author" content="TaemHam" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="문제 [원문 링크]" /><meta property="og:description" content="문제 [원문 링크]" /><link rel="canonical" href="https://taemham.github.io/posts/CodeTree_BattleGround/" /><meta property="og:url" content="https://taemham.github.io/posts/CodeTree_BattleGround/" /><meta property="og:site_name" content="TaemHam" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-17T17:40:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[알고리즘 파이썬] 코드트리: 싸움땅" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"TaemHam","url":"https://github.com/TaemHam/"},"dateModified":"2022-10-18T18:12:38+09:00","datePublished":"2022-10-17T17:40:00+09:00","description":"문제 [원문 링크]","headline":"[알고리즘 파이썬] 코드트리: 싸움땅","mainEntityOfPage":{"@type":"WebPage","@id":"https://taemham.github.io/posts/CodeTree_BattleGround/"},"url":"https://taemham.github.io/posts/CodeTree_BattleGround/"}</script><title>[알고리즘|파이썬] 코드트리: 싸움땅 | TaemHam</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="TaemHam"><meta name="application-name" content="TaemHam"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/TaemHam/Taemham.github.io/main/assets/img/pics/TaemHam_Face.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">TaemHam</a></div><div class="site-subtitle font-italic">and his devlog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/TaemHam" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['tk4003950','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[알고리즘|파이썬] 코드트리: 싸움땅</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>[알고리즘|파이썬] 코드트리: 싸움땅</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1665996000" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-10-17 </em> </span> <span> 업데이트 <em class="" data-ts="1666084358" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-10-18 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/TaemHam/">TaemHam</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1688 단어"> <em>9 분</em>읽는 시간</span></div></div></div><div class="post-content"><h2 id="문제"><span class="mr-2"><strong>문제</strong></span><a href="#문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><p>[<a href="https://www.codetree.ai/frequent-problems/battle-ground/description">원문 링크</a>]</p><h2 id="해설"><span class="mr-2"><strong>해설</strong></span><a href="#해설" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><p>과정들을 그대로 구현만 해주면 되는 간단한 문제였다.</p><p>플레이어의 상태를 보다 쉽게 관리하기 위해 <strong>Player 클래스</strong>로 만들었고, 한 턴에 하는 행동들을 모두 메서드로 구현했다.</p><p>플레이어들을 순서대로 진행시키기 위해 <strong>배열에 인스턴스들을 저장</strong>했다.</p><p>총을 주울 때 어떤 총이 가장 쎈 총인지 빠르게 구분하기 위해 <strong>최대힙을 사용해 저장</strong>했다.</p><h3 id="초기화"><span class="mr-2">초기화</span><a href="#초기화" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">heapq</span> <span class="kn">import</span> <span class="n">heapreplace</span><span class="p">,</span> <span class="n">heappush</span><span class="p">,</span> <span class="n">heappop</span>

<span class="n">N</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">K</span> <span class="o">=</span> <span class="nf">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nf">input</span><span class="p">().</span><span class="nf">split</span><span class="p">())</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span>
<span class="n">guns</span> <span class="o">=</span> <span class="p">[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">L</span><span class="o">*</span><span class="n">L</span><span class="p">)]</span>
<span class="n">board</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">L</span><span class="o">*</span><span class="n">N</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">L</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">L</span><span class="o">*</span><span class="n">N</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
    <span class="n">board</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">N</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">line</span> <span class="o">=</span> <span class="nf">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nf">input</span><span class="p">().</span><span class="nf">split</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">xy</span><span class="p">,</span> <span class="n">gun</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">gun</span><span class="p">:</span>
            <span class="n">guns</span><span class="p">[</span><span class="n">xy</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="o">-</span><span class="n">gun</span><span class="p">)</span>
</pre></table></code></div></div><p>N, M, K 는 문제에서 주어지는 [맵 크기, 플레이어 숫자, 게임이 진행되는 턴 수] 이다.</p><p>L은 <a href="https://taemham.github.io/posts/Algo_2Dgraph/">2차원 배열을 1차원 배열로 만들기</a>위해 선언했다.</p><p>guns 배열은 땅에 떨어져 있는 총의 배열을 위해 선언했는데, 가장 큰 총을 빠르게 찾기 위해 최대힙 으로 구현해주었다.</p><p>board 배열은 플레이어가 어디에 존재하는지 확인하기 위한 용도인데, 0이면 빈칸, 1이면 격자의 바깥, 그리고 플레이어의 위치마다 다음에 후술할 Player 클래스의 인스턴스들을 넣어주었다.</p><h3 id="player-클래스"><span class="mr-2">Player 클래스</span><a href="#player-클래스" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
</pre><td class="rouge-code"><pre>
<span class="k">class</span> <span class="nc">Player</span><span class="p">:</span>
    
    <span class="n">order</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">delta</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">L</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">guns_heap</span> <span class="o">=</span> <span class="n">guns</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">coord</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">L</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">direc</span> <span class="o">=</span> <span class="n">d</span>
        <span class="n">self</span><span class="p">.</span><span class="n">stat</span> <span class="o">=</span> <span class="o">-</span><span class="n">s</span>
        <span class="n">self</span><span class="p">.</span><span class="n">gun</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">Player</span><span class="p">.</span><span class="n">order</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">next_coord</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">coord</span> <span class="o">+</span> <span class="n">Player</span><span class="p">.</span><span class="n">delta</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">direc</span><span class="p">]</span>
        <span class="n">self</span><span class="p">.</span><span class="n">direc</span> <span class="o">=</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">direc</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span> <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">next_coord</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">self</span><span class="p">.</span><span class="n">direc</span>
        <span class="n">self</span><span class="p">.</span><span class="n">coord</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">coord</span> <span class="o">+</span> <span class="n">Player</span><span class="p">.</span><span class="n">delta</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">direc</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">compare</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">Player</span><span class="p">.</span><span class="n">guns_heap</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">coord</span><span class="p">]:</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">gun</span><span class="p">:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">gun</span> <span class="o">=</span> <span class="nf">heappop</span><span class="p">(</span><span class="n">Player</span><span class="p">.</span><span class="n">guns_heap</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">coord</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">self</span><span class="p">.</span><span class="n">gun</span> <span class="o">&gt;</span> <span class="n">Player</span><span class="p">.</span><span class="n">guns_heap</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">coord</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">self</span><span class="p">.</span><span class="n">gun</span> <span class="o">=</span> <span class="nf">heapreplace</span><span class="p">(</span><span class="n">Player</span><span class="p">.</span><span class="n">guns_heap</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">coord</span><span class="p">],</span> <span class="n">self</span><span class="p">.</span><span class="n">gun</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">fight</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">another_player</span><span class="p">):</span>
        <span class="n">winner</span><span class="p">,</span> <span class="n">loser</span> <span class="o">=</span> <span class="nf">sorted</span><span class="p">([</span><span class="n">self</span><span class="p">,</span> <span class="n">another_player</span><span class="p">],</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">stat</span> <span class="o">+</span> <span class="n">x</span><span class="p">.</span><span class="n">gun</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">stat</span><span class="p">))</span>
        <span class="n">score</span> <span class="o">=</span> <span class="n">winner</span><span class="p">.</span><span class="n">stat</span> <span class="o">+</span> <span class="n">winner</span><span class="p">.</span><span class="n">gun</span> <span class="o">-</span> <span class="n">loser</span><span class="p">.</span><span class="n">stat</span> <span class="o">-</span> <span class="n">loser</span><span class="p">.</span><span class="n">gun</span>
        <span class="n">loser</span><span class="p">.</span><span class="nf">lose</span><span class="p">()</span>
        <span class="n">winner</span><span class="p">.</span><span class="nf">win</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
        <span class="nf">return </span><span class="p">(</span><span class="n">loser</span><span class="p">,</span> <span class="n">winner</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">lose</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">gun</span><span class="p">:</span>
            <span class="nf">heappush</span><span class="p">(</span><span class="n">Player</span><span class="p">.</span><span class="n">guns_heap</span><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">coord</span><span class="p">],</span> <span class="n">self</span><span class="p">.</span><span class="n">gun</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">gun</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
            <span class="n">next_direc</span> <span class="o">=</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">direc</span> <span class="o">+</span> <span class="n">d</span><span class="p">)</span> <span class="o">%</span> <span class="mi">4</span>
            <span class="n">next_coord</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">coord</span> <span class="o">+</span> <span class="n">Player</span><span class="p">.</span><span class="n">delta</span><span class="p">[</span><span class="n">next_direc</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">next_coord</span><span class="p">]:</span>
                <span class="k">continue</span>

            <span class="n">self</span><span class="p">.</span><span class="n">direc</span> <span class="o">=</span> <span class="n">next_direc</span>
            <span class="n">self</span><span class="p">.</span><span class="n">coord</span> <span class="o">=</span> <span class="n">next_coord</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">compare</span><span class="p">()</span>
            <span class="k">return</span>

    <span class="k">def</span> <span class="nf">win</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">score</span><span class="p">):</span>

        <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">+=</span> <span class="n">score</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">compare</span><span class="p">()</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">M</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="nf">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nf">input</span><span class="p">().</span><span class="nf">split</span><span class="p">())</span>
    <span class="nc">Player</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">Player</span><span class="p">.</span><span class="n">order</span><span class="p">:</span>
    <span class="n">board</span><span class="p">[</span><span class="n">player</span><span class="p">.</span><span class="n">coord</span><span class="p">]</span> <span class="o">=</span> <span class="n">player</span>

</pre></table></code></div></div><p>가독성을 위해 플레이어를 클래스로 만들고, 플레이어가 하는 행위들은 모두 메서드로 추가해주었다. 플레이어가 생성되면 정적변수 <code class="language-plaintext highlighter-rouge">Player.order</code>배열에 추가해서, for 문을 돌리며 순서대로 행동하도록 했다.</p><h4 id="생성자-def-__init__self-x-y-d-s"><span class="mr-2">생성자 (<code class="language-plaintext highlighter-rouge">def __init__(self, x, y, d, s):</code>)</span><a href="#생성자-def-__init__self-x-y-d-s" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>생성자 매개변수로 입력에 주어지는 x, y, d, s를 받으면 x와 y는 1차원 배열의 좌표로 바꿔 <code class="language-plaintext highlighter-rouge">self.coord</code>에 저장하고, 방향은 그대로 <code class="language-plaintext highlighter-rouge">self.direc</code>에, 기본 공격력은 총에 사용되는 최대힙 반영을 위해 음수로 바꿔 <code class="language-plaintext highlighter-rouge">self.stat</code>에 저장해 주었다.</p><p><code class="language-plaintext highlighter-rouge">self.gun</code>에는 총이 없을 시 0, 있으면 해당 공격력으로 저장해주었고, <code class="language-plaintext highlighter-rouge">self.score</code>에는 점수를 저장해 주었다.</p><h4 id="이동-def-moveself"><span class="mr-2">이동 (<code class="language-plaintext highlighter-rouge">def move(self):</code>)</span><a href="#이동-def-moveself" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>메서드가 호출되면 가지고 있던 좌표와 방향에 따라 이동시켰다.</p><p>만약 이동할 좌표의 board 배열이 1 이라면, 해당 칸은 격자 바깥이라는 의미, 따라서 방향을 거꾸로 돌리고 해당 방향으로 이동시켰다.</p><h4 id="비교-def-compareself"><span class="mr-2">비교 (<code class="language-plaintext highlighter-rouge">def compare(self):</code>)</span><a href="#비교-def-compareself" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>해당 플레이어가 위치한 곳의 좌표에서 총 배열을 확인해주었다.</p><ol><li>만약 해당 위치에 총이 없다면 넘어가고,<li>플레이어가 지닌 총이 없다면 최대힙의 0번째 총을 장착(<code class="language-plaintext highlighter-rouge">heappop</code>)시키고,<li>플레이어가 지닌 총이 땅에 있는 총보다 약하다면, 바꿔(<code class="language-plaintext highlighter-rouge">heapreplace</code>)주었다.</ol><h4 id="싸움-def-fightself-another_player"><span class="mr-2">싸움 (<code class="language-plaintext highlighter-rouge">def fight(self, another_player):</code>)</span><a href="#싸움-def-fightself-another_player" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>다른 플레이어와 위치가 겹쳤는지에 대한 확인은 클래스 밖에서 할 예정이니 넘어간다.</p><p>일단 다른 플레이어와 위치가 겹쳤으면 해당 플레이어의 인스턴스를 board에서 가져와 확인해준다.</p><p>승자와 패자에 대한 판정은 <code class="language-plaintext highlighter-rouge">sorted</code> 함수로 key를 (기본 공격력 + 총, 기본 공격력) 순서로 확인하도록 했다. 현재 공격력은 모두 음수이므로, 합이 더 작은 쪽이 승자다.</p><p>진 사람은 후술할 <code class="language-plaintext highlighter-rouge">lose</code> 메서드를 실행시키고, 이긴 사람은 점수를 계산해 <code class="language-plaintext highlighter-rouge">win</code> 메서드를 실행시켰다.</p><h4 id="짐-def-loseself"><span class="mr-2">짐 (<code class="language-plaintext highlighter-rouge">def lose(self):</code>)</span><a href="#짐-def-loseself" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>진 사람은 해당 칸에서 총을 내려놓아야 하므로, gun 배열에서 해당하는 좌표의 최대힙에 총을 추가해주고 자신의 총은 0으로 초기화 시킨다.</p><li><p>for문으로 사방을 확인하면서 벽이나 다른 플레이어가 있는지 (board의 해당 좌표가 0이 아니면 된다) 확인하고 이동, 있다면 continue해서 다음 방향을 확인해준다.</p><ul><li>이동할 장소를 발견하면 방향과 좌표를 업데이트 시키고, 총을 줍는 <code class="language-plaintext highlighter-rouge">compare</code> 메서드를 실행시킨다.</ul></ol><h4 id="이김-def-winself-score"><span class="mr-2">이김 (<code class="language-plaintext highlighter-rouge">def win(self, score):</code>)</span><a href="#이김-def-winself-score" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ol><li><p>매개변수로 받은 공격력 차이를 <code class="language-plaintext highlighter-rouge">self.score</code>에 더해주고,</p><li><p>총을 줍는 <code class="language-plaintext highlighter-rouge">compare</code> 메서드를 실행시킨다.</p></ol><h4 id="초기화-1"><span class="mr-2">초기화</span><a href="#초기화-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>이후는 입력을 받아 Player 인스턴스를 생성해주고, board 배열에 플레이어 위치마다 인스턴스를 넣어주었다.</p><h3 id="시뮬레이션"><span class="mr-2">시뮬레이션</span><a href="#시뮬레이션" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>
<span class="k">for</span> <span class="n">turn</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">K</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">Player</span><span class="p">.</span><span class="n">order</span><span class="p">:</span>
        <span class="n">board</span><span class="p">[</span><span class="n">player</span><span class="p">.</span><span class="n">coord</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">player</span><span class="p">.</span><span class="nf">move</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">player</span><span class="p">.</span><span class="n">coord</span><span class="p">]:</span>
            <span class="n">loser</span><span class="p">,</span> <span class="n">winner</span> <span class="o">=</span> <span class="n">player</span><span class="p">.</span><span class="nf">fight</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">player</span><span class="p">.</span><span class="n">coord</span><span class="p">])</span>
            <span class="n">board</span><span class="p">[</span><span class="n">loser</span><span class="p">.</span><span class="n">coord</span><span class="p">]</span> <span class="o">=</span> <span class="n">loser</span>
            <span class="n">board</span><span class="p">[</span><span class="n">winner</span><span class="p">.</span><span class="n">coord</span><span class="p">]</span> <span class="o">=</span> <span class="n">winner</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">player</span><span class="p">.</span><span class="nf">compare</span><span class="p">()</span>
            <span class="n">board</span><span class="p">[</span><span class="n">player</span><span class="p">.</span><span class="n">coord</span><span class="p">]</span> <span class="o">=</span> <span class="n">player</span>

</pre></table></code></div></div><p>K 만큼 턴을 돌면서 <code class="language-plaintext highlighter-rouge">Player.order</code>에서 플레이어를 하나씩 꺼내가며 시뮬레이션을 돌렸다.</p><p><code class="language-plaintext highlighter-rouge">board[player.coord]</code> 를 0으로 초기화 하지 않으면, loser가 다음 위치를 찾을 때 해당 플레이어 때문에 위치를 못찾을 수 있다.</p><h3 id="정답-출력"><span class="mr-2">정답 출력</span><a href="#정답-출력" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">answer</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">Player</span><span class="p">.</span><span class="n">order</span><span class="p">:</span>
    <span class="n">answer</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="o">-</span><span class="n">player</span><span class="p">.</span><span class="n">score</span><span class="p">))</span>

<span class="nf">print</span><span class="p">(</span><span class="s">' '</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">answer</span><span class="p">))</span>
</pre></table></code></div></div><p>answer 배열을 만들어 음수로 되어있는 점수를 양수로 바꿔 배열에 저장해주었다.</p><p>마지막으로 출력하면 된다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/algorithm/'>Algorithm</a>, <a href='/categories/codetree/'>CodeTree</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/algorithm/" class="post-tag no-text-decoration" >Algorithm</a> <a href="/tags/code-tree/" class="post-tag no-text-decoration" >Code_Tree</a> <a href="/tags/python/" class="post-tag no-text-decoration" >Python</a> <a href="/tags/pypy/" class="post-tag no-text-decoration" >Pypy</a> <a href="/tags/%EC%82%BC%EC%84%B1/" class="post-tag no-text-decoration" >삼성</a> <a href="/tags/%EC%97%AD%ED%85%8C/" class="post-tag no-text-decoration" >역테</a> <a href="/tags/%EC%8B%B8%EC%9B%80%EB%95%85/" class="post-tag no-text-decoration" >싸움땅</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5B%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%7C%ED%8C%8C%EC%9D%B4%EC%8D%AC%5D+%EC%BD%94%EB%93%9C%ED%8A%B8%EB%A6%AC%3A+%EC%8B%B8%EC%9B%80%EB%95%85+-+TaemHam&url=https%3A%2F%2Ftaemham.github.io%2Fposts%2FCodeTree_BattleGround%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5B%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%7C%ED%8C%8C%EC%9D%B4%EC%8D%AC%5D+%EC%BD%94%EB%93%9C%ED%8A%B8%EB%A6%AC%3A+%EC%8B%B8%EC%9B%80%EB%95%85+-+TaemHam&u=https%3A%2F%2Ftaemham.github.io%2Fposts%2FCodeTree_BattleGround%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftaemham.github.io%2Fposts%2FCodeTree_BattleGround%2F&text=%5B%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%7C%ED%8C%8C%EC%9D%B4%EC%8D%AC%5D+%EC%BD%94%EB%93%9C%ED%8A%B8%EB%A6%AC%3A+%EC%8B%B8%EC%9B%80%EB%95%85+-+TaemHam" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Springboot_FetchJoin+Paging_Problem/">[Springboot] 페이징 + Fetch Join 쿼리로 OneToMany 할 때, 모든 엔티티를 불러오는 문제를 해결해보자</a><li><a href="/posts/CS_DatabaseBasic/">[CS] DB: DB란 무엇인가?</a><li><a href="/posts/CS_About_Process/">[CS] OS: 프로세스란?</a><li><a href="/posts/CS_MultiProcess/">[CS] OS: 멀티 프로세싱과 멀티 스레딩</a><li><a href="/posts/SpringBoot_AboutSpringSecurity/">[백엔드|스프링부트] 서버가 사용자를 인증하는 법 (JWT를 이용한 방법)</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/backend/">Backend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/springboot/">SpringBoot</a> <a class="post-tag" href="/tags/cs/">CS</a> <a class="post-tag" href="/tags/tutorial/">Tutorial</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/db/">DB</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/os/">OS</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CodeTree_SantaFactory/"><div class="card-body"> <em class="small" data-ts="1666080000" data-df="YYYY-MM-DD" > 2022-10-18 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[알고리즘|파이썬] 코드트리: 산타의 선물 공장</h3><div class="text-muted small"><p> 문제 [원문 링크] 해설 공장의 벨트 갯수, 선물 갯수, 그리고 선물의 ID와 무게를 주고, 각각의 연산을 처리하는 문제였다. 선물 상자를 가운데서 빼오거나, 모든 선물 상자를 다른 벨트로 옮기는 등의 연산이 있었기 때문에, 배열이 아닌 연결 리스트 자료구조를 사용했다. 또 각각의 벨트의 상태가 다르고, 놓여있는 상자들도 다르기 때문에 벨트...</p></div></div></a></div><div class="card"> <a href="/posts/BOJ_3109/"><div class="card-body"> <em class="small" data-ts="1661854200" data-df="YYYY-MM-DD" > 2022-08-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[백준] 3109번: 빵집</h3><div class="text-muted small"><p> 문제 [원문 링크] 유명한 제빵사 김원웅은 빵집을 운영하고 있다. 원웅이의 빵집은 글로벌 재정 위기를 피해가지 못했고, 결국 심각한 재정 위기에 빠졌다. 원웅이는 지출을 줄이고자 여기저기 지출을 살펴보던 중에, 가스비가 제일 크다는 것을 알게되었다. 따라서 원웅이는 근처 빵집의 가스관에 몰래 파이프를 설치해 훔쳐서 사용하기로 했다. 빵집이 있는 ...</p></div></div></a></div><div class="card"> <a href="/posts/Algo_2Dgraph/"><div class="card-body"> <em class="small" data-ts="1661931120" data-df="YYYY-MM-DD" > 2022-08-31 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[알고리즘|파이썬] 2차원 그래프 탐색을 빠르게 돌리는 법</h3><div class="text-muted small"><p> 개요 백준 사이트에서 알고리즘 문제를 풀면서 생겼던 의문이 있었다. graph2D[x][y] = 0 # 인덱스 x와 y에서 각각 한 번씩, 총 두 번 호출 graph1D[xy] = 0 # 인덱스 xy에서 한 번 호출 위와 같이 2차원 그래프 graph2D에서 x행 y열의 원소를 접근 할 때, x 인덱스와 y 인덱스 두 번을 호출 하...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/SpringBoot_AboutLombok/" class="btn btn-outline-primary" prompt="이전 글"><p>[백엔드|스프링부트] Lombok으로 코드 다이어트</p></a> <a href="/posts/CodeTree_SantaFactory/" class="btn btn-outline-primary" prompt="다음 글"><p>[알고리즘|파이썬] 코드트리: 산타의 선물 공장</p></a></div><script src="https://utteranc.es/client.js" repo="TaemHam/Taemham.github.io" issue-term="pathname" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/TaemHam">TaemHam</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/backend/">Backend</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/springboot/">SpringBoot</a> <a class="post-tag" href="/tags/cs/">CS</a> <a class="post-tag" href="/tags/tutorial/">Tutorial</a> <a class="post-tag" href="/tags/algorithm/">Algorithm</a> <a class="post-tag" href="/tags/db/">DB</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/os/">OS</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
